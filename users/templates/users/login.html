{% extends 'learning_logs/base.html' %}
{% load bootstrap4 %}

{% block header %}
  <h2 class="display-4">Log in to your account.</h2>
{% endblock header %}

{% block content %}

  <!-- bootstrap 自动管理表单错误 -->
{#  {% if form.errors %}#}
{#    <p>Your username and password didn't match. Please try again.</p>#}
{#  {% endif %}#}

{#  <form method="post" action="{% url 'users:login' %}"#}
  <form method="post" action="{% url 'users:login' %}" class="form">
    {% csrf_token %}
    <!-- 将 bootstrap 样式规则应用于各个表单元素 -->
    {% bootstrap_form form %}
{#    {{ form.as_p }}#}

    {% buttons %}
      <button name="submit" class="btn btn-primary">log in</button>
    {% endbuttons %}
{#    <button name="submit">log in</button>#}

{# next 隐藏的表单元素，其实参 value 告诉 Django 在用户成功登录后将其重定向到什么地方 #}
    <input type="hidden" name="next" value="{% url 'learning_logs:index' %}" />
  </form>

{% endblock content %}